#!/bin/sh

#############################################################
## bip - algorithmic image generator           B. R. Shellito 

os="$(uname)"

runner () {
    case "$os" in
        "Darwin")
            bip "$@"
            open *.bmp
            ;;
        *)
            bip "$@"
            if command -v nsxiv >/dev/null 2>&1; then
                nsxiv --anti-alias=no *.bmp
            elif command -v feh >/dev/null 2>&1; then
                feh --force-aliasing *.bmp
            else
                xdg-open *.bmp
            fi
            ;;
    esac
}

runner "$@"
